!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).EliCS={})}(this,(function(t){"use strict";var e;t.Types=void 0,(e=t.Types||(t.Types={})).Int8="Int8",e.Int16="Int16",e.Entity="Entity",e.Float32="Float32",e.Float64="Float64",e.Boolean="Boolean",e.String="String",e.Object="Object",e.Vec2="Vec2",e.Vec3="Vec3",e.Vec4="Vec4",e.Color="Color",e.Enum="Enum";const n={Int8:{arrayConstructor:Int8Array,length:1},Int16:{arrayConstructor:Int16Array,length:1},Entity:{arrayConstructor:Int32Array,length:1},Float32:{arrayConstructor:Float32Array,length:1},Float64:{arrayConstructor:Float64Array,length:1},Boolean:{arrayConstructor:Uint8Array,length:1},String:{arrayConstructor:Array,length:1},Object:{arrayConstructor:Array,length:1},Vec2:{arrayConstructor:Float32Array,length:2},Vec3:{arrayConstructor:Float32Array,length:3},Vec4:{arrayConstructor:Float32Array,length:4},Color:{arrayConstructor:Float32Array,length:4},Enum:{arrayConstructor:Array,length:1}};let s=!0;var i;function o(t,e,n){if(s&&!t)throw new Error(`${e}: ${n}`)}function r(t,e,n){if(!s)return;if(!Object.values(e).includes(t))throw new Error(`${i.InvalidEnumValue}: ${t} is not a valid value for enum ${n}`)}function a(t,e,n,o){if(s){if(void 0!==e&&t<e)throw new Error(`${i.InvalidRangeValue}: ${t} is below minimum ${e} for field ${o}`);if(void 0!==n&&t>n)throw new Error(`${i.InvalidRangeValue}: ${t} is above maximum ${n} for field ${o}`)}}!function(t){t.TypeNotSupported="Type not supported",t.InvalidDefaultValue="Invalid default value",t.InvalidEnumValue="Invalid enum value",t.InvalidRangeValue="Value out of range"}(i||(i={}));class c{constructor(t=0){"number"==typeof t?(this.words=new Uint32Array(1),this.words[0]=t>>>0):(this.words=new Uint32Array(t.length),this.words.set(t))}get bits(){return this.words[0]>>>0}ensure(t){if(t<this.words.length)return;const e=Math.max(this.words.length<<1,t+1),n=new Uint32Array(e);n.set(this.words),this.words=n}set(t,e){const n=t/32|0,s=31&t;this.ensure(n);const i=1<<s;e?this.words[n]|=i:this.words[n]&=~i}or(t){var e,n;const s=new c(new Uint32Array(Math.max(this.words.length,t.words.length))),i=this.words,o=t.words,r=s.words,a=r.length;for(let t=0;t<a;t++)r[t]=(null!==(e=i[t])&&void 0!==e?e:0)|(null!==(n=o[t])&&void 0!==n?n:0);return s}and(t){var e,n;const s=new c(new Uint32Array(Math.max(this.words.length,t.words.length))),i=this.words,o=t.words,r=s.words,a=r.length;for(let t=0;t<a;t++)r[t]=(null!==(e=i[t])&&void 0!==e?e:0)&(null!==(n=o[t])&&void 0!==n?n:0);return s}andNot(t){var e,n;const s=new c(new Uint32Array(Math.max(this.words.length,t.words.length))),i=this.words,o=t.words,r=s.words,a=r.length;for(let t=0;t<a;t++)r[t]=(null!==(e=i[t])&&void 0!==e?e:0)&~(null!==(n=o[t])&&void 0!==n?n:0);return s}orInPlace(t){this.ensure(t.words.length-1);const e=this.words,n=t.words;for(let t=0;t<n.length;t++)e[t]|=n[t]}andNotInPlace(t){const e=this.words,n=t.words,s=Math.min(e.length,n.length);for(let t=0;t<s;t++)e[t]&=~n[t]}equals(t){var e,n;const s=Math.max(this.words.length,t.words.length);for(let i=0;i<s;i++){if((null!==(e=this.words[i])&&void 0!==e?e:0)!==(null!==(n=t.words[i])&&void 0!==n?n:0))return!1}return!0}isEmpty(){const t=this.words;for(let e=0;e<t.length;e++)if(0!==t[e])return!1;return!0}clear(){this.words.fill(0)}toArray(){const t=[],e=this.words;for(let n=0;n<e.length;n++){let s=e[n];for(;s;){const e=s&-s,i=31-Math.clz32(e);t.push((n<<5)+i),s&=s-1}}return t}toString(){if(1===this.words.length)return this.words[0].toString();let t="";for(let e=this.words.length-1;e>=0;e--){const n=this.words[e].toString(16);t+=e===this.words.length-1?n:"-"+n}return t}contains(t){var e;const n=this.words,s=t.words,i=s.length;for(let t=0;t<i;t++){const i=(null!==(e=n[t])&&void 0!==e?e:0)>>>0,o=s[t]>>>0;if((i&o)>>>0!==o)return!1}return!0}intersects(t){const e=this.words,n=t.words,s=Math.min(e.length,n.length);for(let t=0;t<s;t++)if((e[t]&n[t])>>>0!=0)return!0;return!1}}class u{constructor(t,e,n,s){this.entityManager=t,this.queryManager=e,this.componentManager=n,this.index=s,this.bitmask=new c,this.active=!0,this.vectorViews=new Map}addComponent(t,e={}){return this.active?(null===t.bitmask&&this.componentManager.registerComponent(t),this.bitmask.orInPlace(t.bitmask),this.componentManager.attachComponentToEntity(this.index,t,e),this.queryManager.updateEntity(this,t)):console.warn(`Entity ${this.index} is destroyed, cannot add component ${t.schema}`),this}removeComponent(t){return this.active?t.bitmask&&(this.bitmask.andNotInPlace(t.bitmask),this.vectorViews.delete(t),this.queryManager.updateEntity(this,t)):console.warn(`Entity ${this.index} is destroyed, cannot remove component ${t.schema}`),this}hasComponent(t){return this.bitmask.intersects(t.bitmask)}getComponents(){return this.bitmask.toArray().map((t=>this.componentManager.getComponentByTypeId(t)))}getValue(e,n){const s=e.schema[n];if(!s)return null;const i=e.data[n],o=i?i[this.index]:void 0;switch(s.type){case t.Types.Vec2:case t.Types.Vec3:case t.Types.Vec4:case t.Types.Color:throw new Error("Array/vector types must be read via getVectorView(component, key).");case t.Types.Boolean:return Boolean(o);case t.Types.Entity:return-1===o?null:this.entityManager.getEntityByIndex(o);default:return o}}setValue(e,n,s){const i=e.data[n],o=e.schema[n];switch(o.type){case t.Types.Vec2:case t.Types.Vec3:case t.Types.Vec4:case t.Types.Color:throw new Error("Array/vector types must be written via getVectorView(component, key).");case t.Types.Enum:r(s,o.enum,n),i[this.index]=s;break;case t.Types.Int8:case t.Types.Int16:case t.Types.Float32:case t.Types.Float64:("min"in o||"max"in o)&&a(s,o.min,o.max,n),i[this.index]=s;break;case t.Types.Entity:i[this.index]=null===s?-1:s.index;break;default:i[this.index]=s}this.queryManager.updateEntityValue(this,e)}getVectorView(t,e){var s;const i=e,o=null===(s=this.vectorViews.get(t))||void 0===s?void 0:s.get(i);if(o)return o;{const s=t.data[e],o=t.schema[e].type,r=n[o].length,a=this.index*r,c=s.subarray(a,a+r);return this.vectorViews.has(t)||this.vectorViews.set(t,new Map),this.vectorViews.get(t).set(i,c),c}}destroy(){this.active&&(this.active=!1,this.bitmask.clear(),this.vectorViews.clear(),this.queryManager.resetEntity(this),this.entityManager.releaseEntityInstance(this))}}class h{static record(t){if(this.components.has(t.id))throw new Error(`Component with id '${t.id}' already exists. Each component must have a unique identifier.`);this.components.set(t.id,t)}static getById(t){return this.components.get(t)}static getAllComponents(){return Array.from(this.components.values())}static has(t){return this.components.has(t)}static clear(){this.components.clear()}}function l(e,s){const r=e.schema;e.data={};for(const a in r){const c=r[a],{type:u,default:h}=c;let{arrayConstructor:l,length:d}=n[u];u===t.Types.Enum&&o("enum"in c,i.InvalidDefaultValue,`Enum type requires 'enum' property for field ${a}`),o(!!l,i.TypeNotSupported,u),e.data[a]=new l(s*d),o(1===d||Array.isArray(h)&&h.length===d,i.InvalidDefaultValue,a)}}function d(e,s,i){var o,c,u;const h=e.schema;for(const l in h){const d=h[l],{type:f,default:y}=d,p=n[f].length,m=e.data[l],v=null!==(o=i[l])&&void 0!==o?o:y;switch(f){case t.Types.Entity:m[s]=v?v.index:-1;break;case t.Types.Enum:r(v,d.enum,l),m[s]=v;break;case t.Types.Int8:case t.Types.Int16:case t.Types.Float32:case t.Types.Float64:("min"in d||"max"in d)&&a(v,d.min,d.max,l),m[s]=v;break;case t.Types.String:case t.Types.Object:m[s]=v;break;case t.Types.Color:{const t=n[f].length,i=null!==(c=v)&&void 0!==c?c:[1,1,1,1];let o=!1;for(let e=0;e<4;e++){let n=null!==(u=i[e])&&void 0!==u?u:1;n<0?(n=0,o=!0):n>1&&(n=1,o=!0),m[s*t+e]=n}o&&console.warn(`Color values out of range for ${e.id}.${l}; clamped to [0,1].`);break}default:1===p?m[s]=v:m.set(v,s*p)}}}h.components=new Map;class f{constructor(t){this.entityCapacity=t,this.nextComponentTypeId=0,this.componentsByTypeId=[]}hasComponent(t){return-1!==t.typeId&&this.componentsByTypeId[t.typeId]===t}registerComponent(t){if(this.hasComponent(t))return;const e=this.nextComponentTypeId++;t.bitmask=new c,t.bitmask.set(e,1),t.typeId=e,l(t,this.entityCapacity),this.componentsByTypeId[e]=t}attachComponentToEntity(t,e,n){d(e,t,n)}getComponentByTypeId(t){var e;return null!==(e=this.componentsByTypeId[t])&&void 0!==e?e:null}}class y{constructor(t,e,n){this.queryManager=t,this.componentManager=e,this.entityReleaseCallback=n,this.pool=[],this.entityIndex=0,this.indexLookup=[],this.poolSize=0}requestEntityInstance(){let t;return this.poolSize>0?(t=this.pool[--this.poolSize],t.active=!0):t=new u(this,this.queryManager,this.componentManager,this.entityIndex++),this.indexLookup[t.index]=t,t}releaseEntityInstance(t){var e;null===(e=this.entityReleaseCallback)||void 0===e||e.call(this,t),this.indexLookup[t.index]=null,this.pool[this.poolSize++]=t}getEntityByIndex(t){var e;return-1===t?null:null!==(e=this.indexLookup[t])&&void 0!==e?e:null}}class p{constructor(t,e,n,s=[]){this.requiredMask=t,this.excludedMask=e,this.queryId=n,this.subscribers={qualify:new Set,disqualify:new Set},this.entities=new Set,this.valuePredicates=[],this.valuePredicates=s}matches(t){if(!this.excludedMask.isEmpty()&&this.excludedMask.intersects(t.bitmask))return!1;if(!t.bitmask.contains(this.requiredMask))return!1;if(this.valuePredicates.length>0)for(const e of this.valuePredicates){const n=t.getValue(e.component,e.key);switch(e.op){case"eq":if(n!==e.value)return!1;break;case"ne":if(n===e.value)return!1;break;case"lt":if(!("number"==typeof n&&"number"==typeof e.value&&n<e.value))return!1;break;case"le":if(!("number"==typeof n&&"number"==typeof e.value&&n<=e.value))return!1;break;case"gt":if(!("number"==typeof n&&"number"==typeof e.value&&n>e.value))return!1;break;case"ge":if(!("number"==typeof n&&"number"==typeof e.value&&n>=e.value))return!1;break;case"in":if(!e.valueSet||!e.valueSet.has(n))return!1;break;case"nin":if(e.valueSet&&e.valueSet.has(n))return!1}}return!0}subscribe(t,e,n=!1){if(this.subscribers[t].add(e),"qualify"===t&&n)for(const t of this.entities)e(t);return()=>{this.subscribers[t].delete(e)}}static generateQueryInfo(e){var n;const s=new c,i=new c;for(const t of e.required)s.orInPlace(t.bitmask);if(e.excluded)for(const t of e.excluded)i.orInPlace(t.bitmask);const o=(null!==(n=e.where)&&void 0!==n?n:[]).map((e=>{const n=e.component.schema[e.key];if(!n)throw new Error(`Predicate key '${e.key}' not found on component ${e.component.id}`);const s=n.type;switch(e.op){case"lt":case"le":case"gt":case"ge":if(s!==t.Types.Int8&&s!==t.Types.Int16&&s!==t.Types.Float32&&s!==t.Types.Float64)throw new Error(`Operator '${e.op}' only valid for numeric fields: ${e.component.id}.${e.key}`);break;case"in":case"nin":if(!Array.isArray(e.value))throw new Error(`Operator '${e.op}' requires array value for ${e.component.id}.${e.key}`)}const i={...e};return"in"!==e.op&&"nin"!==e.op||(i.valueSet=new Set(e.value)),i}));for(const t of o)s.orInPlace(t.component.bitmask);const r=o.map((t=>`${t.component.typeId}:${t.key}:${t.op}=${Array.isArray(t.value)?"arr":String(t.value)}`)).join(",");return{requiredMask:s,excludedMask:i,queryId:`required:${s.toString()}|excluded:${i.toString()}|where:${r}`,valuePredicates:o}}}class m{constructor(t){this.componentManager=t,this.queries=new Map,this.trackedEntities=new Set,this.queriesByComponent=new Map,this.queriesByValueComponent=new Map}registerQuery(t){var e,n,s;for(const e of t.required)null===e.bitmask&&this.componentManager.registerComponent(e);if(t.excluded)for(const e of t.excluded)null===e.bitmask&&this.componentManager.registerComponent(e);if(t.where)for(const e of t.where)null===e.component.bitmask&&this.componentManager.registerComponent(e.component);const{requiredMask:i,excludedMask:o,queryId:r,valuePredicates:a}=p.generateQueryInfo(t);if(!this.queries.has(r)){const c=new p(i,o,r,a);for(const t of this.trackedEntities)c.matches(t)&&c.entities.add(t);const u=[...t.required,...null!==(e=t.excluded)&&void 0!==e?e:[],...(null!==(n=t.where)&&void 0!==n?n:[]).map((t=>t.component))];for(const t of u){let e=this.queriesByComponent.get(t);e||(e=new Set,this.queriesByComponent.set(t,e)),e.add(c)}for(const e of null!==(s=t.where)&&void 0!==s?s:[]){let t=this.queriesByValueComponent.get(e.component);t||(t=new Set,this.queriesByValueComponent.set(e.component,t)),t.add(c)}this.queries.set(r,c)}return this.queries.get(r)}updateEntity(t,e){var n;if(this.trackedEntities.add(t),t.bitmask.isEmpty()){for(const e of this.queries.values())if(e.entities.delete(t))for(const n of e.subscribers.disqualify)n(t);return}const s=e?null!==(n=this.queriesByComponent.get(e))&&void 0!==n?n:[]:this.queries.values();for(const e of s){const n=e.matches(t),s=e.entities.has(t);if(n&&!s){e.entities.add(t);for(const n of e.subscribers.qualify)n(t)}else if(!n&&s){e.entities.delete(t);for(const n of e.subscribers.disqualify)n(t)}}}updateEntityValue(t,e){this.trackedEntities.add(t);const n=this.queriesByValueComponent.get(e);if(n&&0!==n.size)for(const e of n){const n=e.matches(t),s=e.entities.has(t);if(n&&!s){e.entities.add(t);for(const n of e.subscribers.qualify)n(t)}else if(!n&&s){e.entities.delete(t);for(const n of e.subscribers.disqualify)n(t)}}}resetEntity(t){if(this.trackedEntities.delete(t),t.bitmask.isEmpty()){for(const e of this.queries.values())if(e.entities.delete(t))for(const n of e.subscribers.disqualify)n(t);return}const e=new Set;for(const n of t.bitmask.toArray()){const s=this.componentManager.getComponentByTypeId(n),i=this.queriesByComponent.get(s);if(i)for(const n of i)if(!e.has(n)){if(n.entities.delete(t))for(const e of n.subscribers.disqualify)e(t);e.add(n)}}}}const v=Symbol.for("preact-signals");function g(){if(C>1)return void C--;let t,e=!1;for(;void 0!==b;){let n=b;for(b=void 0,E++;void 0!==n;){const s=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&M(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=s}}if(E=0,C--,e)throw t}let w,b;function k(t){const e=w;w=void 0;try{return t()}finally{w=e}}let C=0,E=0,x=0;function I(t){if(void 0===w)return;let e=t.n;return void 0===e||e.t!==w?(e={i:0,S:t,p:w.s,n:void 0,t:w,e:void 0,x:void 0,r:e},void 0!==w.s&&(w.s.n=e),w.s=e,t.n=e,32&w.f&&t.S(e),e):-1===e.i?(e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=w.s,e.n=void 0,w.s.n=e,w.s=e),e):void 0}function S(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched}function q(t,e){return new S(t,e)}function M(t){for(let e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function T(t){for(let e=t.s;void 0!==e;e=e.n){const n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function V(t){let e,n=t.s;for(;void 0!==n;){const t=n.p;-1===n.i?(n.S.U(n),void 0!==t&&(t.n=n.n),void 0!==n.n&&(n.n.p=t)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=t}t.s=e}function $(t,e){S.call(this,void 0),this.x=t,this.s=void 0,this.g=x-1,this.f=4,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched}function A(t){const e=t.u;if(t.u=void 0,"function"==typeof e){C++;const n=w;w=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,B(t),e}finally{w=n,g()}}}function B(t){for(let e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,A(t)}function P(t){if(w!==this)throw new Error("Out-of-order effect");V(this),w=t,this.f&=-2,8&this.f&&B(this),g()}function F(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}S.prototype.brand=v,S.prototype.h=function(){return!0},S.prototype.S=function(t){const e=this.t;e!==t&&void 0===t.e&&(t.x=e,this.t=t,void 0!==e?e.e=t:k((()=>{var t;null==(t=this.W)||t.call(this)})))},S.prototype.U=function(t){if(void 0!==this.t){const e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n,void 0===n&&k((()=>{var t;null==(t=this.Z)||t.call(this)})))}},S.prototype.subscribe=function(t){return function(t){const e=new F(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}((()=>{const e=this.value,n=w;w=void 0;try{t(e)}finally{w=n}}))},S.prototype.valueOf=function(){return this.value},S.prototype.toString=function(){return this.value+""},S.prototype.toJSON=function(){return this.value},S.prototype.peek=function(){const t=w;w=void 0;try{return this.value}finally{w=t}},Object.defineProperty(S.prototype,"value",{get(){const t=I(this);return void 0!==t&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(E>100)throw new Error("Cycle detected");this.v=t,this.i++,x++,C++;try{for(let t=this.t;void 0!==t;t=t.x)t.t.N()}finally{g()}}}}),$.prototype=new S,$.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===x)return!0;if(this.g=x,this.f|=1,this.i>0&&!M(this))return this.f&=-2,!0;const t=w;try{T(this),w=this;const t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return w=t,V(this),this.f&=-2,!0},$.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(let t=this.s;void 0!==t;t=t.n)t.S.S(t)}S.prototype.S.call(this,t)},$.prototype.U=function(t){if(void 0!==this.t&&(S.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(let t=this.s;void 0!==t;t=t.n)t.S.U(t)}},$.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty($.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const t=I(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),F.prototype.c=function(){const t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;const t=this.x();"function"==typeof t&&(this.u=t)}finally{t()}},F.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,A(this),T(this),C++;const t=w;return w=this,P.bind(this,t)},F.prototype.N=function(){2&this.f||(this.f|=2,this.o=b,b=this)},F.prototype.d=function(){this.f|=8,1&this.f||B(this)};t.ComponentRegistry=h,t.Entity=u,t.Query=p,t.TypedArrayMap=n,t.VERSION="3.3.0",t.World=class{constructor({entityCapacity:t=1e3,checksOn:e=!0,entityReleaseCallback:n}={}){this.systems=[],this.globals={},this.componentManager=new f(t),this.queryManager=new m(this.componentManager),this.entityManager=new y(this.queryManager,this.componentManager,n),s=e}registerComponent(t){return this.componentManager.registerComponent(t),this}hasComponent(t){return this.componentManager.hasComponent(t)}createEntity(){return this.entityManager.requestEntityInstance()}registerSystem(t,e={}){if(this.hasSystem(t))return console.warn(`System ${t.name} is already registered, skipping registration.`),this;const{configData:n={},priority:s=0}=e,i={};Object.entries(t.queries).forEach((([t,e])=>{i[t]=this.queryManager.registerQuery(e)}));const o=new t(this,this.queryManager,s);o.queries=i,Object.entries(n).forEach((([t,e])=>{if(t in o.config){o.config[t].value=e}})),o.init();const r=this.systems.findIndex((t=>t.priority>o.priority));return-1===r?this.systems.push(o):this.systems.splice(r,0,o),this}unregisterSystem(t){const e=this.getSystem(t);e&&(e.destroy(),this.systems=this.systems.filter((e=>!(e instanceof t))))}registerQuery(t){return this.queryManager.registerQuery(t),this}update(t,e){for(const n of this.systems)n.isPaused||n.update(t,e)}getSystem(t){for(const e of this.systems)if(e instanceof t)return e}getSystems(){return this.systems}hasSystem(t){return this.systems.some((e=>e instanceof t))}},t.assignInitialComponentData=d,t.createComponent=function(t,e,n){const s={id:t,description:n,schema:e,data:{},bitmask:null,typeId:-1};return h.record(s),s},t.createSystem=function(t={},e={}){var n;return(n=class{constructor(t,n,s){this.world=t,this.queryManager=n,this.priority=s,this.isPaused=!1,this.config={};for(const t in e){const n=t;this.config[n]=q(e[n].default)}}get globals(){return this.world.globals}createEntity(){return this.world.createEntity()}init(){}update(t,e){}play(){this.isPaused=!1}stop(){this.isPaused=!0}destroy(){}}).schema=e,n.isSystem=!0,n.queries=t,n},t.eq=function(t,e,n){return{component:t,key:e,op:"eq",value:n}},t.ge=function(t,e,n){return{component:t,key:e,op:"ge",value:n}},t.gt=function(t,e,n){return{component:t,key:e,op:"gt",value:n}},t.initializeComponentStorage=l,t.isin=function(t,e,n){return{component:t,key:e,op:"in",value:n}},t.le=function(t,e,n){return{component:t,key:e,op:"le",value:n}},t.lt=function(t,e,n){return{component:t,key:e,op:"lt",value:n}},t.ne=function(t,e,n){return{component:t,key:e,op:"ne",value:n}},t.nin=function(t,e,n){return{component:t,key:e,op:"nin",value:n}}}));
