{"version":3,"file":"engine.js","sources":["../../src/core/engine.ts"],"sourcesContent":[null],"names":[],"mappings":"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"}