/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
declare const EnvironmentSystem_base: import("elics").SystemConstructor<import("elics").SystemSchema, {
    domeTextures: {
        required: import("elics").Component<{}>[];
    };
    domeGradients: {
        required: import("elics").Component<{}>[];
    };
    iblTextures: {
        required: import("elics").Component<{}>[];
    };
    iblGradients: {
        required: import("elics").Component<{}>[];
    };
}, import("../ecs/world.js").World, import("../ecs/system.js").System<import("elics").SystemSchema, {
    domeTextures: {
        required: import("elics").Component<{}>[];
    };
    domeGradients: {
        required: import("elics").Component<{}>[];
    };
    iblTextures: {
        required: import("elics").Component<{}>[];
    };
    iblGradients: {
        required: import("elics").Component<{}>[];
    };
}>>;
/**
 * Unified background and image‑based lighting system.
 *
 * @remarks
 * - Background is driven by {@link DomeTexture} (HDR/LDR equirect) or {@link DomeGradient} (procedural sphere) and writes to `scene.background`.
 * - IBL is driven by {@link IBLTexture} ("room" or HDR/LDR equirect via PMREM) or {@link IBLGradient} (PMREM of a gradient scene) and writes to `scene.environment`.
 * - Rotation and intensity hooks forward to `scene.backgroundRotation`, `scene.backgroundIntensity`, and `scene.environmentRotation`, `scene.environmentIntensity`.
 * - In immersive AR, background visuals are hidden while environment lighting remains active.
 * - PMREM targets are regenerated only when sources change; the dome mesh and geometry are reused.
 *
 * @category Environment & Lighting
 * @example
 * ```ts
 * // Background: HDR skybox; IBL: Room environment
 * const root = world.activeLevel!.value;
 * root.addComponent(DomeTexture, { src: '/envs/sky.hdr', intensity: 0.9 });
 * root.addComponent(IBLTexture, { src: 'room', intensity: 1.2 });
 *
 * // Rotate background 45° around Y; rotate IBL 90°
 * root.setValue(DomeTexture, 'rotation', [0, Math.PI / 4, 0]);
 * root.setValue(IBLTexture, 'rotation', [0, Math.PI / 2, 0]);
 * root.setValue(DomeTexture, '_needsUpdate', true);
 * root.setValue(IBLTexture, '_needsUpdate', true);
 * ```
 */
export declare class EnvironmentSystem extends EnvironmentSystem_base {
    private state;
    private pmrem;
    private gradientGeometry?;
    private tmpColor;
    init(): void;
    update(): void;
    private processBackground;
    private hasDomeTextureBackgroundChanged;
    private updateDomeTextureBackground;
    private updateBackgroundProps;
    private updateDomeGradient;
    private processIBL;
    private hasIBLTextureChanged;
    private updateIBLTexture;
    private updateIBLProps;
    private updateIBLGradient;
    private setEnvironment;
    private updateBackgroundForXRMode;
    private ensureGradientDome;
    private clearGradientDome;
}
export {};
//# sourceMappingURL=environment-system.d.ts.map